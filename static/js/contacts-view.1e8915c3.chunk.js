"use strict";(self.webpackChunkcontacts_app=self.webpackChunkcontacts_app||[]).push([[779],{1603:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r=t(2791),i=t(6030),o=t(4554),a=t(890),s=t(885),u=t(3767),c=t(5891),l=t(9373),d=t(1413),h=t(5987),p=t(367),f=t(184),Z=["onChange"],m=r.forwardRef((function(n,e){var t=n.onChange,r=(0,h.Z)(n,Z);return(0,f.jsx)(p.oc,(0,d.Z)((0,d.Z)({},r),{},{mask:"(+000)-000-0000",definitions:{"#":/[1-9]/},inputRef:e,onAccept:function(e){return t({target:{name:n.name,value:e}})},overwrite:!0}))})),x=t(7550),j=t(8627);function v(){var n=(0,r.useState)(""),e=(0,s.Z)(n,2),t=e[0],o=e[1],a=(0,r.useState)(""),d=(0,s.Z)(a,2),h=d[0],p=d[1],Z=(0,i.v9)(x.K2),v=(0,i.I0)();return(0,f.jsx)("form",{onSubmit:function(n){n.preventDefault(),function(n){var e=n.name,t=n.phone,r=!0;return Z.forEach((function(n){var i=n.name,o=n.phone;i.toLowerCase()!==e.toLowerCase()&&t!==o||(r=!1)})),r}({name:t,phone:h})&&(v((0,j.rE)({name:t,phone:h})),o(""),p(""))},children:(0,f.jsxs)(u.Z,{spacing:1,children:[(0,f.jsx)(c.Z,{label:"Name",placeholder:"Awesome name",value:t,onChange:function(n){return o(n.target.value)},required:!0}),(0,f.jsx)(c.Z,{label:"Phone 1234567890",placeholder:"Cool phone number",value:h,onChange:function(n){return p(n.target.value)},InputProps:{inputComponent:m},required:!0}),(0,f.jsx)(l.Z,{variant:"contained",type:"submit",children:"Create contact"})]})})}var C,g=t(168),b=t(3400),w=t(6125),P=t(7630),k=t(627),I=t(5397),S=t(6739),y=t(5179),E=t(8820);function q(n){var e=n.id,t=n.name,o=n.number,a=n.onCloseModal,d=(0,r.useState)(t),h=(0,s.Z)(d,2),p=h[0],Z=h[1],v=(0,r.useState)(o),C=(0,s.Z)(v,2),g=C[0],b=C[1],w=(0,i.v9)(x.K2),P=(0,i.I0)();return(0,f.jsx)("form",{onSubmit:function(n){n.preventDefault(),function(n,t){var r=w.some((function(r){var i=r.id,o=r.name,a=r.phone;return i!==e&&(o.toLowerCase()===n.toLowerCase()||t===a)}));return!r}(p,g)&&(P((0,j.mP)({id:e,name:p,phone:g})),Z(""),b(""),a())},children:(0,f.jsxs)(u.Z,{spacing:1,p:2,children:[(0,f.jsx)(c.Z,{label:"Name:",placeholder:"Awesome name",value:p,onChange:function(n){return Z(n.target.value)},required:!0}),(0,f.jsx)(c.Z,{label:"Phone 1234567890",placeholder:"Cool phone number",value:g,onChange:function(n){return b(n.target.value)},InputProps:{inputComponent:m},required:!0}),(0,f.jsx)(l.Z,{variant:"contained",type:"submit",children:"Edit contact"})]})})}function F(n){var e=n.id,t=n.name,i=n.number,o=(0,r.useState)(!1),a=(0,s.Z)(o,2),u=a[0],c=a[1],l=function(){c(!1)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.Z,{"data-testid":"edit-button",onClick:function(){c(!0)},children:(0,f.jsx)(E.Z,{})}),(0,f.jsx)(y.Z,{open:u,onClose:l,children:(0,f.jsx)(z,{"data-testid":"edit-modal",children:(0,f.jsx)(q,{onCloseModal:l,id:e,name:t,number:i})})})]})}var K,L,A,D,M,z=(0,P.ZP)(o.Z)(C||(C=(0,g.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 400px;\n  border-radius: 5px;\n  background-color: #fff;\n"])));function G(n){var e=n.id,t=n.name,o=n.phone,c=(0,r.useState)(!1),l=(0,s.Z)(c,2),d=l[0],h=l[1],p=(0,i.I0)();return(0,r.useEffect)((function(){d&&setTimeout((function(){h(!1)}),4e3)}),[d]),(0,f.jsx)(N,{children:(0,f.jsxs)(R,{direction:"row",spacing:1,"data-testid":"user-item",children:[(0,f.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",width:"100%",children:[(0,f.jsx)(a.Z,{children:t}),(0,f.jsx)(a.Z,{children:o})]}),(0,f.jsxs)(u.Z,{direction:"row",alignItems:"center",children:[(0,f.jsx)(F,{id:e,name:t,number:o}),(0,f.jsxs)(T,{children:[(0,f.jsx)(B,{in:!d,children:(0,f.jsx)(b.Z,{"data-testid":"start-delete",onClick:function(){return h(!0)},children:(0,f.jsx)(I.Z,{})})}),(0,f.jsx)(B,{in:d,children:(0,f.jsx)(b.Z,{"data-testid":"cancel-delete",onClick:function(){return h(!1)},children:(0,f.jsx)(S.Z,{})})})]}),(0,f.jsx)(w.Z,{in:d,orientation:"horizontal",children:(0,f.jsx)(_,{onClick:function(){p((0,j.GK)(e))},children:"Delete"})})]})]})})}var N=(0,P.ZP)(o.Z)(K||(K=(0,g.Z)(["\n  position: relative;\n"]))),R=(0,P.ZP)(u.Z)(L||(L=(0,g.Z)(["\n  position: relative;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  justify-content: space-between;\n  align-items: center;\n"]))),_=(0,P.ZP)(a.Z)(A||(A=(0,g.Z)(["\n  padding-left: ",";\n  color: ",";\n  cursor: pointer;\n"])),(function(n){return n.theme.spacing(1)}),(function(n){return n.theme.palette.error.light})),T=(0,P.ZP)(o.Z)(D||(D=(0,g.Z)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n"]))),B=(0,P.ZP)(k.Z)(M||(M=(0,g.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));function H(){var n=(0,i.v9)(x.F4);return(0,f.jsxs)(o.Z,{pt:1,children:[(0,f.jsx)(a.Z,{variant:"h5",children:"Contacts"}),n.map((function(n){var e=n.id,t=n.name,r=n.phone;return(0,f.jsx)(G,{id:e,name:t,phone:r},e)}))]})}var J=t(7522);function O(){var n=(0,i.v9)(x.zK),e=(0,i.I0)();return(0,f.jsx)(c.Z,{value:n,onChange:function(n){return e((0,J.M6)(n.target.value))},label:"Filter"})}function Q(){var n=(0,i.v9)(x.hG),e=(0,i.I0)();return(0,r.useEffect)((function(){e((0,j.yF)())}),[e]),(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(a.Z,{variant:"h4",children:"Phonebook"}),(0,f.jsx)(v,{}),n>1&&(0,f.jsx)(o.Z,{pt:1,children:(0,f.jsx)(O,{})}),(0,f.jsx)(H,{})]})}}}]);
//# sourceMappingURL=contacts-view.1e8915c3.chunk.js.map